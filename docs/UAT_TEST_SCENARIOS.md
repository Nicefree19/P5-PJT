# P5 Dashboard UAT (User Acceptance Testing) 테스트 시나리오

**Version**: 1.0
**Date**: 2026-01-02
**Project**: P5 복합동 구조 통합 관리 시스템
**Dashboard Version**: v2.2

---

## 1. 개요

### 1.1 테스트 범위
- Alpine.js 기반 SPA Dashboard
- Google Apps Script 백엔드 API
- 11개 층 x 828개 기둥 (9,108개 데이터 포인트)
- Zone 분류: A (FAB X1-23), B (CUB X24-45), C (COMPLEX X46-69)
- 6단계 공정: HMB제작, 면조립, 대조립, HMB+PSRC, FORM, 앰베드

### 1.2 심각도 정의
| 심각도 | 정의 | 조치 |
|--------|------|------|
| **Critical** | 시스템 사용 불가, 데이터 손실 위험 | 즉시 수정 필수 |
| **High** | 핵심 기능 장애, 대체 방안 없음 | 릴리즈 전 수정 필수 |
| **Medium** | 기능 일부 제한, 대체 방안 존재 | 릴리즈 후 수정 가능 |
| **Low** | 사소한 UI/UX 이슈 | 차기 버전 수정 |

### 1.3 합격 기준
- **필수**: Critical/High 심각도 결함 0건
- **권장**: Medium 심각도 결함 3건 이하
- **기능 커버리지**: 90% 이상 테스트 통과

---

## 2. 테스트 시나리오

### UAT-001: 단일 기둥 상태 변경 워크플로우

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-001 |
| **제목** | 단일 기둥 상태 변경 및 저장 |
| **심각도** | Critical |
| **사전조건** | - Dashboard 정상 로드<br>- 최소 1개 기둥 데이터 존재<br>- API 연결 상태 정상 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | 그리드에서 임의의 기둥 클릭 (예: X5-Y10) | 상세 패널이 우측에서 슬라이드 인 |
| 2 | 상세 패널에서 기둥 UID 확인 | UID 형식: `F01-X5-Y10` 표시 |
| 3 | 상태 드롭다운에서 `installed` 선택 | 드롭다운 값 변경 |
| 4 | `Save` 버튼 클릭 | 로딩 인디케이터 표시 후 성공 토스트 |
| 5 | 그리드에서 해당 기둥 색상 확인 | 녹색(#238636)으로 변경 |
| 6 | 브라우저 새로고침 | 변경된 상태 유지 |

**테스트 데이터**:
```json
{
  "uid": "F01-X5-Y10",
  "beforeStatus": "pending",
  "afterStatus": "installed",
  "zone": "zone_a"
}
```

**합격 기준**:
- [ ] 상세 패널 정상 표시
- [ ] 상태 변경 후 그리드 즉시 반영
- [ ] 새로고침 후 데이터 유지
- [ ] 토스트 알림 정상 표시

---

### UAT-002: 대량 기둥 상태 변경 (Bulk Update)

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-002 |
| **제목** | 다중 기둥 선택 및 일괄 상태 변경 |
| **심각도** | Critical |
| **사전조건** | - Dashboard 정상 로드<br>- 최소 10개 기둥 데이터 존재 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | 그리드에서 드래그하여 5x5 영역 선택 | 선택된 셀 파란색 하이라이트 |
| 2 | 선택 배너에서 선택된 기둥 수 확인 | `25개 기둥 선택됨` 표시 |
| 3 | Bulk Edit 패널의 `active` 버튼 클릭 | 확인 다이얼로그 표시 |
| 4 | 확인 버튼 클릭 | 일괄 업데이트 진행, 프로그레스 표시 |
| 5 | 완료 후 그리드 확인 | 25개 기둥 모두 파란색(active) 상태 |
| 6 | `선택 해제` 버튼 클릭 | 선택 상태 해제, Bulk Edit 패널 숨김 |

**테스트 데이터**:
```json
{
  "selectionRange": {"startX": 1, "startY": 1, "endX": 5, "endY": 5},
  "targetStatus": "active",
  "expectedCount": 25
}
```

**합격 기준**:
- [ ] 드래그 선택 정상 동작
- [ ] 선택 카운트 정확
- [ ] 일괄 업데이트 100% 성공
- [ ] API 호출 최적화 (개별 호출이 아닌 배치)

---

### UAT-003: 이슈 생성 및 해결 프로세스

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-003 |
| **제목** | 이슈 등록, 조회, 해결 전체 사이클 |
| **심각도** | High |
| **사전조건** | - 관리자 패널 접근 가능<br>- 이슈 관련 기둥 존재 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | 헤더의 `🚨 이슈(N)` 버튼 클릭 | 이슈 패널 슬라이드 인 |
| 2 | `+ 새 이슈` 버튼 클릭 | 이슈 생성 모달 표시 |
| 3 | 이슈 정보 입력: <br>- 제목: "TC 간섭 발생"<br>- 유형: tc<br>- 심각도: critical<br>- 영향 기둥: X10-X15 | 폼 필드 입력 완료 |
| 4 | `이슈 등록` 버튼 클릭 | 모달 닫힘, 성공 토스트 |
| 5 | 이슈 목록에서 새 이슈 확인 | 이슈 카드에 "TC 간섭 발생" 표시 |
| 6 | 그리드에서 영향받는 기둥 확인 | 빨간색 점선 오버레이 표시 |
| 7 | 이슈 카드의 `해결` 버튼 클릭 | 해결 확인 다이얼로그 |
| 8 | 해결 사유 입력 후 확인 | 이슈 상태 `resolved`로 변경 |

**테스트 데이터**:
```json
{
  "title": "TC 간섭 발생",
  "type": "tc",
  "severity": "critical",
  "affectedColumns": ["F01-X10-Y5", "F01-X11-Y5", "F01-X12-Y5"],
  "description": "X10~X12 구간 TC 간섭으로 인한 공정 지연"
}
```

**합격 기준**:
- [ ] 이슈 생성 성공
- [ ] 그리드 오버레이 정상 표시
- [ ] 영향받는 기둥 상태 자동 변경 (hold_tc)
- [ ] 이슈 해결 시 기둥 상태 복구

---

### UAT-004: Zone/층별 필터링 및 검색

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-004 |
| **제목** | Zone, 층, 절주 필터링 및 검색 기능 |
| **심각도** | High |
| **사전조건** | - 3개 Zone 데이터 존재<br>- 11개 층 데이터 존재 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | 층 선택기 클릭 | 드롭다운에 11개 층 표시 |
| 2 | `3층` 선택 | 3층 데이터만 그리드에 표시 |
| 3 | 사이드바에서 Zone A 클릭 | Zone A 영역만 강조, 나머지 흐리게 |
| 4 | 입면 뷰어에서 `J3` 절주 클릭 | J3 절주 기둥만 강조 표시 |
| 5 | 검색창에 "X15" 입력 | X15 컬럼 검색 결과 표시 |
| 6 | 검색 결과 클릭 | 해당 기둥으로 그리드 스크롤 및 선택 |
| 7 | `초기화` 버튼 클릭 | 모든 필터 해제, 전체 뷰 복원 |

**테스트 데이터**:
```json
{
  "floorFilter": "F03",
  "zoneFilter": "zone_a",
  "jeoljuFilter": "J3",
  "searchQuery": "X15"
}
```

**합격 기준**:
- [ ] 층 선택 시 그리드 데이터 갱신
- [ ] Zone 필터 시각적 구분 명확
- [ ] 절주 필터링 정상 동작
- [ ] 검색 결과 정확도 100%
- [ ] 필터 조합 동작 정상

---

### UAT-005: GAS API 동기화 (Pull/Push)

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-005 |
| **제목** | Google Apps Script API 동기화 |
| **심각도** | Critical |
| **사전조건** | - API 엔드포인트 설정 완료<br>- 인증 토큰 유효 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | Dashboard 초기 로드 | API에서 데이터 자동 Pull |
| 2 | 헤더의 동기화 상태 확인 | `✓ 동기화됨` 또는 `⚡ N개 대기중` |
| 3 | 오프라인 상태에서 기둥 상태 변경 | 로컬 저장, `대기중` 카운트 증가 |
| 4 | 온라인 복귀 후 `지금 동기화` 클릭 | 대기 중인 변경사항 Push |
| 5 | Google Sheet에서 데이터 확인 | 변경사항 반영 확인 |
| 6 | Google Sheet에서 직접 수정 | Dashboard에서 Pull 후 반영 |

**테스트 데이터**:
```json
{
  "apiEndpoint": "https://script.google.com/macros/s/.../exec",
  "syncActions": ["getColumns", "updateColumn", "bulkUpdate"],
  "offlineChanges": 3
}
```

**합격 기준**:
- [ ] 초기 로드 시 데이터 정상 Pull
- [ ] 오프라인 변경사항 로컬 저장
- [ ] 온라인 복귀 시 자동/수동 Push
- [ ] 충돌 감지 및 해결 메커니즘
- [ ] Rate Limiting 준수 (60 req/min)

---

### UAT-006: CSV/Excel Import 기능

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-006 |
| **제목** | 외부 데이터 Import 및 매핑 |
| **심각도** | Medium |
| **사전조건** | - 관리자 패널 접근 가능<br>- 테스트용 CSV 파일 준비 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | 관리자 패널 > 설정 탭 진입 | Import/Export 섹션 표시 |
| 2 | Import 영역에 CSV 파일 드래그 앤 드롭 | 파일 분석 시작, 프로그레스 표시 |
| 3 | Import 미리보기 모달 확인 | 통계: 신규 N개, 업데이트 M개, 오류 K개 |
| 4 | 컬럼 매핑 확인/수정 | 자동 매핑 또는 수동 선택 |
| 5 | Import 모드 선택 (`update` / `merge` / `replace`) | 모드별 설명 표시 |
| 6 | `Import 실행` 버튼 클릭 | 프로그레스 바 표시, 완료 토스트 |
| 7 | 그리드에서 Import 결과 확인 | 데이터 정상 반영 |

**테스트 데이터 (sample_import.csv)**:
```csv
uid,zone,status,stage_hmb_fab,stage_pre_assem,note
F01-X1-Y1,zone_a,active,installed,active,테스트 데이터 1
F01-X1-Y2,zone_a,installed,installed,installed,테스트 데이터 2
F01-X2-Y1,zone_a,pending,pending,pending,신규 기둥
INVALID-UID,zone_x,unknown,err,err,오류 케이스
```

**합격 기준**:
- [ ] 드래그 앤 드롭 동작
- [ ] 파일 형식 검증 (CSV, Excel)
- [ ] 미리보기 통계 정확
- [ ] 오류 행 명확한 표시
- [ ] 3가지 Import 모드 정상 동작
- [ ] 대용량 파일 처리 (1000행 이상)

---

### UAT-007: Master-Override Lock 기능

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-007 |
| **제목** | 기둥 잠금 및 해제 기능 |
| **심각도** | High |
| **사전조건** | - 관리자 권한 보유<br>- 잠금 대상 기둥 존재 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | 기둥 클릭하여 상세 패널 열기 | 상세 패널에 `🔒 잠금` 체크박스 표시 |
| 2 | `마스터 잠금` 체크박스 선택 | 잠금 아이콘 활성화 |
| 3 | `Save` 클릭 | 잠금 상태 저장 |
| 4 | 그리드에서 해당 기둥 확인 | 🔒 아이콘 표시, 황금색 테두리 |
| 5 | 잠긴 기둥 상태 변경 시도 | 경고: "잠긴 기둥은 수정할 수 없습니다" |
| 6 | Bulk Update에서 잠긴 기둥 포함 시 | 잠긴 기둥 제외하고 나머지만 업데이트 |
| 7 | 잠금 해제 후 수정 시도 | 정상 수정 가능 |

**테스트 데이터**:
```json
{
  "lockedColumn": "F01-X10-Y10",
  "lockReason": "설계 확정 - 변경 금지",
  "lockedBy": "admin@example.com",
  "lockedAt": "2026-01-02T10:00:00Z"
}
```

**합격 기준**:
- [ ] 잠금 상태 시각적 표시
- [ ] 잠긴 기둥 수정 방지
- [ ] Bulk Update 시 잠금 기둥 자동 제외
- [ ] 잠금 사유 기록
- [ ] 잠금 해제 권한 검증

---

### UAT-008: 키보드 단축키 동작

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-008 |
| **제목** | 키보드 단축키 및 접근성 |
| **심각도** | Medium |
| **사전조건** | - Dashboard 정상 로드<br>- 포커스 가능한 요소 존재 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | `?` 키 입력 | 단축키 도움말 모달 표시 |
| 2 | `Escape` 키 입력 | 열린 모달/패널 닫힘 |
| 3 | `Ctrl + F` 입력 | 검색창으로 포커스 이동 |
| 4 | 그리드에서 `방향키` 사용 | 인접 기둥으로 포커스 이동 |
| 5 | 기둥 포커스 상태에서 `Enter` | 상세 패널 열림 |
| 6 | `Ctrl + S` 입력 | 현재 변경사항 저장 |
| 7 | `Ctrl + Z` 입력 | 마지막 동작 실행 취소 |
| 8 | `1`, `2`, `3` 숫자키 입력 | 빠른 상태 변경 (pending/active/installed) |

**테스트 데이터**:
```json
{
  "shortcuts": {
    "?": "도움말",
    "Escape": "닫기",
    "Ctrl+F": "검색",
    "Arrow Keys": "이동",
    "Enter": "선택",
    "Ctrl+S": "저장",
    "Ctrl+Z": "실행취소",
    "1/2/3": "빠른 상태변경"
  }
}
```

**합격 기준**:
- [ ] 모든 단축키 정상 동작
- [ ] 단축키 충돌 없음 (브라우저 기본 동작과)
- [ ] 포커스 트랩 정상 동작 (모달 내부)
- [ ] 시각적 포커스 인디케이터 명확

---

### UAT-009: 접근성 기능 (ARIA, Skip Links, Focus)

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-009 |
| **제목** | 웹 접근성 WCAG 2.1 AA 준수 |
| **심각도** | Medium |
| **사전조건** | - 스크린 리더 활성화 (NVDA/VoiceOver)<br>- 키보드 전용 탐색 모드 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | 페이지 로드 후 `Tab` 키 입력 | Skip Link "메인 콘텐츠로 이동" 표시 |
| 2 | Skip Link에서 `Enter` | 메인 그리드로 포커스 이동 |
| 3 | 스크린 리더로 그리드 셀 읽기 | "기둥 X5-Y10, 상태: 설치됨, Zone A" 읽음 |
| 4 | 모달 열기 | 포커스가 모달 내부로 이동 |
| 5 | 모달 내에서 `Tab` 반복 | 포커스가 모달 내부에서만 순환 |
| 6 | 색상 대비 확인 (DevTools) | 4.5:1 이상 대비율 |
| 7 | 200% 줌에서 UI 확인 | 가로 스크롤 없이 콘텐츠 접근 가능 |

**테스트 데이터**:
```json
{
  "ariaLabels": {
    "grid": "기둥 상태 그리드",
    "sidebar": "사이드바 네비게이션",
    "detailPanel": "기둥 상세 정보"
  },
  "contrastRatios": {
    "textMain": "8.2:1",
    "textSub": "5.1:1",
    "statusOk": "4.5:1"
  }
}
```

**합격 기준**:
- [ ] Skip Link 동작
- [ ] ARIA 레이블 적절
- [ ] 포커스 관리 정상
- [ ] 색상 대비 4.5:1 이상
- [ ] 키보드 전용 탐색 가능
- [ ] 스크린 리더 호환

---

### UAT-010: 모바일 반응형 UI

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-010 |
| **제목** | 모바일/태블릿 반응형 레이아웃 |
| **심각도** | Low |
| **사전조건** | - 모바일 디바이스 또는 DevTools 반응형 모드 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | 뷰포트 375px (iPhone SE) 설정 | 모바일 레이아웃 적용 |
| 2 | 사이드바 동작 확인 | 햄버거 메뉴로 토글 |
| 3 | 그리드 핀치 줌 | 부드러운 줌 인/아웃 |
| 4 | 기둥 탭 | 상세 패널 하단에서 슬라이드 업 |
| 5 | 뷰포트 768px (iPad) 설정 | 태블릿 레이아웃 적용 |
| 6 | 가로 모드 전환 | 레이아웃 자동 재배치 |
| 7 | 터치 제스처 (스와이프, 핀치) | 자연스러운 제스처 반응 |

**테스트 데이터**:
```json
{
  "breakpoints": {
    "mobile": "< 640px",
    "tablet": "640px - 1024px",
    "desktop": "> 1024px"
  },
  "testDevices": ["iPhone SE", "iPhone 14 Pro", "iPad", "iPad Pro"]
}
```

**합격 기준**:
- [ ] 모바일 레이아웃 정상 표시
- [ ] 터치 인터랙션 자연스러움
- [ ] 핀치 줌 동작
- [ ] 가로/세로 모드 전환 대응
- [ ] 성능 저하 없음 (60fps 유지)

---

### UAT-011: 실시간 상태 업데이트

| 항목 | 내용 |
|------|------|
| **시나리오 ID** | UAT-011 |
| **제목** | 다중 사용자 실시간 동기화 |
| **심각도** | High |
| **사전조건** | - 2개 이상의 브라우저/탭<br>- 동일 계정 또는 다른 계정 |

**테스트 단계**:

| 단계 | 행동 | 예상 결과 |
|------|------|-----------|
| 1 | 브라우저 A에서 기둥 X5-Y5 상태 변경 | 변경 저장 완료 |
| 2 | 브라우저 B에서 동일 기둥 확인 (30초 내) | 변경된 상태 반영 (자동 또는 수동 새로고침) |
| 3 | 브라우저 B에서 동일 기둥 동시 수정 시도 | 충돌 감지 알림 |
| 4 | 알림 센터에서 변경 이력 확인 | "X5-Y5 상태가 변경됨" 알림 표시 |
| 5 | 폴링 주기 확인 (개발자 도구 Network) | 30초 간격 API 호출 |

**테스트 데이터**:
```json
{
  "pollingInterval": 30000,
  "conflictScenario": {
    "userA": {"action": "change to installed", "timestamp": "T1"},
    "userB": {"action": "change to active", "timestamp": "T1 + 5s"}
  }
}
```

**합격 기준**:
- [ ] 변경사항 30초 이내 동기화
- [ ] 충돌 감지 및 알림
- [ ] 알림 센터 기록
- [ ] 서버 부하 최적화 (배치 폴링)

---

## 3. 테스트 환경

### 3.1 브라우저 호환성
| 브라우저 | 버전 | 우선순위 |
|----------|------|----------|
| Chrome | 최신 | 필수 |
| Edge | 최신 | 필수 |
| Firefox | 최신 | 권장 |
| Safari | 최신 | 권장 |

### 3.2 테스트 계정
| 역할 | 이메일 | 권한 |
|------|--------|------|
| 관리자 | admin@senkuzo.com | 전체 권한 |
| 일반 사용자 | user@senkuzo.com | 읽기/수정 |
| 읽기 전용 | viewer@senkuzo.com | 읽기 전용 |

### 3.3 테스트 데이터셋
- **초기 데이터**: 11층 x 828기둥 = 9,108개 데이터 포인트
- **상태 분포**: pending 60%, active 25%, installed 10%, hold 5%
- **이슈 개수**: 15개 (critical 3, high 5, medium 5, low 2)

---

## 4. 결함 리포트 템플릿

```markdown
## 결함 ID: DEF-XXX

**발견 일시**: YYYY-MM-DD HH:MM
**테스터**: [이름]
**시나리오 ID**: UAT-00X

### 결함 요약
[한 줄 요약]

### 재현 단계
1.
2.
3.

### 예상 결과
[예상되는 동작]

### 실제 결과
[실제 발생한 동작]

### 심각도
- [ ] Critical
- [ ] High
- [ ] Medium
- [ ] Low

### 첨부파일
- 스크린샷:
- 콘솔 로그:
- 네트워크 로그:

### 환경
- 브라우저:
- OS:
- 화면 해상도:
```

---

## 5. 서명

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| QA 리드 | | | |
| 개발 리드 | | | |
| PO/PM | | | |

---

**문서 이력**

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|-----------|
| 1.0 | 2026-01-02 | UAT Team | 초기 작성 |
